<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Untitled</title>

    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.common.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.rtl.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.default.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.mobile.all.min.css">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/angular.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/jszip.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.all.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.aspnetmvc.min.js"></script>
    <script src="/static/kendo.data.odata-batch.js"></script>
  </head>
  <body>
    <h3>OData v4</h3>
    <div id="grid-v4"></div>
    <script>
      $('#grid-v4').kendoGrid({
        editable: true,
        toolbar: ['create', 'save', 'cancel'],
        columns: [
          {
            field: 'Name'
          },
          {
            field: 'AirlineCode'
          },
          {
            command: ['destroy']
          }
        ],
        sortable: true,
        dataSource: {
          type: 'odata-v4',
          batch: true,
          serverSorting: true,
          schema: {
            model: {
              id: 'AirlineCode'
            },
            fields: {
              Name: { required: true },
              AirlineCode: { required: true }
            }
          },
          transport: {
            read: {
              url: '/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines'
            },
            create: {
              url: "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines"
            },
            update: {
              url: function(item) {
                return "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines('" + item.AirlineCode + "')";
              }
            },
            destroy: {
              url: function(item) {
                return "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines('" + item.AirlineCode + "')";
              }
            }
          }
        }
      });
    </script>
    <h3>OData v3</h3>
    <div id="grid-v3"></div>
    <script>
      $('#grid-v3').kendoGrid({
        editable: true,
        toolbar: ['create', 'save', 'cancel'],
        columns: [
          {
            field: 'ID'
          },
          {
            field: 'Name'
          },
          {
            field: 'Description'
          },
          {
            command: ['destroy']
          }
        ],
        pageable: true,
        dataSource: {
          type: 'odata',
          batch: true,
          pageSize: 5,
          serverPaging: true,
          schema: {
            model: {
              id: 'ID',
              fields: {
                ID: { type: 'number', required: true, defaultValue: null }
              }
            }
          },
          transport: {
            type: 'ODataDemo.Product',
            read: {
              url: '/V3/(S(yrfmnhb3d1xr0g4a105tepiq))/OData/OData.svc/Products',
              dataType: 'json'
            },
            create: {
              url: "http://services.odata.org/V3/(S(yrfmnhb3d1xr0g4a105tepiq))/OData/OData.svc/Products"
            },
            update: {
              url: function(item) {
                return "Products(" + item.ID + ")";
              }
            },
            destroy: {
              url: function(item) {
                return "http://services.odata.org/V3/(S(yrfmnhb3d1xr0g4a105tepiq))/OData/OData.svc/Products(" + item.ID + ")";
              }
            }
          }
        }
      });
    </script>
  </body>
</html>
